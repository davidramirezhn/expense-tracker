<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="styles.css">
    <title>DRH - Expense Tracker</title>
</head>
<body>
    <div class="container">
        <!-- Input container (25% width, full height, leftmost) -->
        <form id="expense-form" class="input-container">
            <label for="expense-date">Date:</label>
            <input type="date" id="expense-date" required />

            <label for="expense-category">Category:</label>
            <input type="text" id="expense-category" placeholder="Category" required />

            <label for="expense-description">Description:</label>
            <input type="text" id="expense-description" placeholder="Description" required />

            <label for="expense-detail1">Detail 1:</label>
            <input type="text" id="expense-detail1" placeholder="Detail 1" required />

            <label for="expense-detail2">Detail 2:</label>
            <input type="text" id="expense-detail2" placeholder="Detail 2" required />

            <label for="expense-value">Value:</label>
            <input type="number" id="expense-value" placeholder="Value" required />

            <button type="submit">Add Expense</button>
        </form>

        <!-- History container (70% width, topmost, scrollable) -->
        <div class="history-container">
    <h2>Expense History</h2>
    <table>
        <thead>
            <tr>
                <th>Date</th>
                <th>Category</th>
                <th>Description</th>
                <th>Detail 1</th>
                <th>Detail 2</th>
                <th>Value</th>
            </tr>
        </thead>
        <tbody id="expense-history">
            <!-- This is where your expenses will be dynamically added -->
        </tbody>
    </table>
</div>
        
        <!-- Calendar container (Squared) -->
        <div class="calendar-container">
            <!-- Add your calendar content here -->
        </div>

        <div class="categorized-container">
    <h2>Categorized Summary</h2>
    <table>
        <thead>
            <tr>
                <th>Category</th>
                <th>Frequency</th>
                <th>Total</th>
                <th>Average Spend</th>
            </tr>
        </thead>
        <tbody id="categorized-summary">
            <!-- This is where your categorized summary will be dynamically added -->
        </tbody>
    </table>
</div>
        
    </div>
    <script>
// Get form, expense list, and total amount elements 
const expenseForm = 
    document.getElementById("expense-form"); 
const expenseList = 
    document.getElementById("expense-list"); 
const totalAmountElement = 
    document.getElementById("total-amount"); 
  
// Initialize expenses array from localStorage 
let expenses =  
    JSON.parse(localStorage.getItem("expenses")) || []; 
  
// Function to render expenses in tabular form 
function renderExpenses() { 
  
    // Clear expense list 
    expenseList.innerHTML = ""; 
  
    // Initialize total amount 
    let totalAmount = 0; 
  
    // Loop through expenses array and create table rows 
    for (let i = 0; i < expenses.length; i++) { 
        const expense = expenses[i]; 
        const expenseRow = document.createElement("tr"); 
        expenseRow.innerHTML = ` 
      <td>${expense.name}</td> 
      <td>$${expense.amount}</td> 
      <td class="delete-btn" data-id="${i}">Delete</td> 
    `; 
        expenseList.appendChild(expenseRow); 
  
        // Update total amount 
        totalAmount += expense.amount; 
    } 
  
    // Update total amount display 
    totalAmountElement.textContent = 
        totalAmount.toFixed(2); 
  
    // Save expenses to localStorage 
    localStorage.setItem("expenses",  
        JSON.stringify(expenses)); 
} 
  
// Function to add expense 
function addExpense(event) { 
    event.preventDefault(); 
  
    // Get expense name and amount from form 
    const expenseNameInput = 
        document.getElementById("expense-name"); 
    const expenseAmountInput = 
        document.getElementById("expense-amount"); 
    const expenseName = 
        expenseNameInput.value; 
    const expenseAmount = 
        parseFloat(expenseAmountInput.value); 
  
    // Clear form inputs 
    expenseNameInput.value = ""; 
    expenseAmountInput.value = ""; 
  
    // Validate inputs 
    if (expenseName === "" || isNaN(expenseAmount)) { 
        alert("Please enter valid expense details."); 
        return; 
    } 
  
    // Create new expense object 
    const expense = { 
        name: expenseName, 
        amount: expenseAmount, 
    }; 
  
    // Add expense to expenses array 
    expenses.push(expense); 
  
    // Render expenses 
    renderExpenses(); 
} 
  
// Function to delete expense 
function deleteExpense(event) { 
    if (event.target.classList.contains("delete-btn")) { 
  
        // Get expense index from data-id attribute 
        const expenseIndex = 
            parseInt(event.target.getAttribute("data-id")); 
  
        // Remove expense from expenses array 
        expenses.splice(expenseIndex, 1); 
  
        // Render expenses 
        renderExpenses(); 
    } 
} 
  
// Add event listeners 
expenseForm.addEventListener("submit", addExpense); 
expenseList.addEventListener("click", deleteExpense); 
  
// Render initial expenses on page load 
renderExpenses();
      </script>
</html>
